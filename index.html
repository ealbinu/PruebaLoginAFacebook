<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script>
      /*
 * flogin.js
 * stupidly simple facebook login as a jQuery plugin
 *
 * Gary Rafferty - 2013
 */
(function($) {
  $.fn.facebook_login = function(options) {
    var defaults = {
      endpoint: '/sessions/new',
      permissions: 'email',
      onSuccess: function(data) { console.log([200,'OK']); },
      onError: function(data) { console.log([500,'Error']); }
    };

    var settings = $.extend({}, defaults, options);

    if(settings.appId === 'undefined') {
      console.log('You must set the appId');
      return false;
    }

    (function(d, s, id){
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {return;}
    js = d.createElement(s); js.id = id;
      js.src = "http://connect.facebook.net/en_US/all.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    window.fbAsyncInit = function() {
      FB.init({
        appId: settings.appId,
        status: true,
        xfbml: true
      });
    };

    this.bind('click', function() {
      FB.login(function(r) {
        var response;
        if(response = r.authResponse) {
          var user_id = response.userID;
          var token   = response.accessToken;

          FB.api('/me?access_token='+token, function(user) {
            var email;
            if(email = user.email) {
              $.ajax({
                url: settings.endpoint,
                data: {user_id: user_id,token: token,email: email},
                type: 'POST',
                success: settings.onSuccess(),
                error: settings.onError()
              });
            }
          });
        } else {
          settings.onError();
        }
      }, {scope: settings.permissions});
    });
  }
})(jQuery);

      $(document).ready(function(){
        $('#login').facebook_login({
          appId: '864657906883638'
        });    
      });
    </script>
    <title>Pruebaloginafacebook by ealbinu</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Pruebaloginafacebook</h1>
        <h2></h2>
        <a href="https://github.com/ealbinu/PruebaLoginAFacebook" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="login-con-facebook" class="anchor" href="#login-con-facebook"><span class="octicon octicon-link"></span></a>Login con Facebook</h1>
        </section>

        <aside id="sidebar">
          <a href="#" id="login" class="button">
            <small>Facebook</small>
            Login
          </a>
          <a href="https://github.com/ealbinu/PruebaLoginAFacebook/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/ealbinu/PruebaLoginAFacebook/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/ealbinu/PruebaLoginAFacebook"></a> is maintained by <a href="https://github.com/ealbinu">ealbinu</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
